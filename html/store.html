<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="shortcut icon" href="../img/micon.ico" type="image/x-icon">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/header.css">
    <link rel="stylesheet" href="../css/zhuanmaidian.css">
    <link rel="stylesheet" href="../css/footer.css">
    <title>店名的获取</title>
</head>
<style>
.navl ul li a:hover{
    color: #00c3f5;
}
</style>
<body>
    <!-- header start -->
    <div class="top">
        <div class="header ">
            <div class="logo ">
                <a href="../index.html"><img src="../img/logo.png " alt=" "></a>
            </div>
            <div class="navl">
                <ul>
                    <li class="active "><a href="phonelist.html" id="phonelist ">手机</a></li>
                    <li class="active "><a href="#" id="earlist ">声学</a></li>
                    <li class="active "><a href="#">配件</a></li>
                    <li><a href="# ">生活</a></li>
                    <li><a href="# ">Flyme</a></li>
                    <li><a href="server.html">服务</a></li>
                    <li><a href="store.html">专卖店</a></li>
                    <li><a href="comment.html">社区</a></li>
                    <li><a href="# ">APP下载</a></li>
                    <li><span style="border:1px solid #ccc;"><input type="search" placeholder="meizu16s Plus"
                                style="border:none;outline:none;border-radius:none;"></span></li>
                    <li><span class="iconfont" style="position: relative;z-index:999;color: #000;">&#xe63a;</span>
                    </li>
                    <li><span class="iconfont" style="position: relative;z-index:999;color:#000;">&#xe6ef;</span><span>1</span></li>
                </ul>

            </div>




            <div class="phl ">
                <div class="phlist ">
                    <dl>
                        <dt></dt>
                        <dd><span>魅族16s PLUS</span></dd>
                        <dd><span><em>￥</em>9999</span></dd>
                    </dl>
                    <dl>
                        <dt></dt>
                        <dd><span>魅族16s PLUS</span></dd>
                        <dd><span><em>￥</em>9999</span></dd>
                    </dl>

                    <dl>
                        <dt></dt>
                        <dd><span>魅族16s PLUS</span></dd>
                        <dd><span><em>￥</em>9999</span></dd>
                    </dl>

                    <dl>
                        <dt></dt>
                        <dd><span>魅族16s PLUS</span></dd>
                        <dd><span><em>￥</em>9999</span></dd>
                    </dl>
                    <dl>
                        <dt></dt>
                        <dd><span>魅族16s PLUS</span></dd>
                        <dd><span><em>￥</em>9999</span></dd>
                    </dl>
                    <!-- <dl>
                              <dt></dt>
                              <dd><span>魅族16s PLUS</span></dd>
                              <dd><span><em>￥</em>9999</span></dd>
                            </dl> -->
                    <!-- <dl>
                                <dt></dt>
                                <dd><span>魅族16s PLUS</span></dd>
                                <dd><span><em>￥</em>9999</span></dd>
                              </dl> -->

                </div>
            </div>
        </div>
    </div>
    <!-- header end -->
    <!-- banner start -->
    <div class="banner">
        <a href=""><img src="../img/zhuanmaidian.png" alt=""></a>
    </div>
    <!-- banner end -->
    <!-- store start -->
    <div class="main">
        <div class="main_wrap">
            <div class="main_top">
                <a href="" class="active">专卖店</a>
                <a href="">形象销售点</a>
            </div>
            <div class="main_content">
                <div class="address">
                    当前城市：<select id="sheng">
                        <option value="1">请选择省</option>
                    </select> 城市：
                    <select id="city">
                        <option value="11">请选择市</option>
                    </select>
                </div>
                <div class="stort">

                    <dl>
                        <dt>
                            <a href="">
                                <h2></h2>
                            </a>
                        </dt>
                        <dd>
                            <p></p>
                        </dd>
                        <dd>
                            <span></span>
                        </dd>
                    </dl>
                </div>

            </div>
            <div class="more-link">
                <div class="link-right">
                    <span>加盟魅族，梦想从此开始</span>
                    <a href="//service.meizu.com/retail/join_shop.html">加盟认证店</a>
                    <a class="join-link" href="//service.meizu.com/retail/join.html">加盟销售精英</a>
                </div>
            </div>


        </div>
        <!-- 专卖店结束 -->
    </div>
    <!-- store end-->
    <!-- foorer start -->
    <footer>
        <div class="footer_main">
            <div class="footer_l">
                <dl>
                    <dt><a href=""><img src="../img/footer01_03.jpg" alt=""><span></span></a></dt>
                    <dd><a href="">满80免运费</a></dd>
                </dl>
                <dl>

                    <dt><a href=""><img src="../img/footer01_06.jpg" alt=""><span></span></a></dt>
                    <dd><a href=""> 100+ 城市次日送达</a></dd>
                </dl>
                <dl>
                    <dt><a href=""><img src="../img/footer01_09.jpg" alt=""><span></span></a></dt>
                    <dd><a href=""> 7天无理由退货</a></dd>
                </dl>
                <dl>
                    <dt><a href=""><img src="../img/footer01_12.jpg" alt=""><span></span></a></dt>
                    <dd><a href="">15天换货保障</a></dd>
                </dl>
                <dl>
                    <dt><a href=""><img src="../img/footer01_15.jpg" alt=""><span></span></a></dt>
                    <dd><a href="">1年免费保修</a></dd>
                </dl>
                <dl>
                    <dt><a href=""><img src="../img/footer01_18.jpg" alt=""><span></span></a></dt>
                    <dd><a href="">上门快修</a></dd>
                </dl>
            </div>
            <div class="footer_r">
                <p>周一至周日 8:00-20:00</p>
                <p>400-788-3333</p>
                <button>在线客服</button>
            </div>
        </div>
        <hr class="hrs">
        <div class="footer_bottom">
            <div class="bottom_main">
                <a href="">了解魅族</a><span>|</span>
                <a href=""> 加入我们</a><span>|</span>
                <a href="">
                    联系我们</a><span>|</span>
                <a href=""> Flyme</a><span>|</span>
                <a href="">
                    魅族社区</a><span>|</span>
                <a href="">
                    天猫旗舰店</a><span>|</span>
                <a href="">问题反馈</a><span>|</span>
                <a href="">线上销售授权名单公示</a><span>|</span>
                <a href="">出版物经营许可证</a><span>|</span>
                <a href=""> 简体中文</a>
                <p>©2019 Meizu Telecom Equipment Co., Ltd. All rights reserved.&nbsp;&nbsp;&nbsp;&nbsp;
                    <a href="">粤ICP备13003602号</a>
                    <a href="">合字B2-20170010 </a>
                    <a href="">营业执照</a>
                    <a href="">法律声明</a>
                    <span> <i></i>粤公网安备 44049102496009 号</span>
                </p>

            </div>
            <div class="bottom_r">
                <a href=""><img src="../img/footer01_29.jpg" alt=""></a>
                <a href=""><img src="../img/footer01_46.jpg" alt=""></a>
                <a href=""><img src="../img/footer01_38.jpg" alt=""></a>
                <a href=""><img src="../img/footer01_40.png" alt=""></a>
            </div>


        </div>
    </footer>
    <!-- foorer end-->
    <script src="../js/zhuanmaidian.js">
    </script>
    <script src="../js/dianming.js">
    </script>
    <script>
        // console.log(json2)
        // console.log(json1)
        //     //获取电话号码的方式
        // console.log(json2[0].phone[0]);
        // //获取店名的方式
        // console.log(json2[1].store.length);
        // //获取地址的方式
        // console.log(json2[0].address[0]);
        // console.log(json1[0].province);
        //获取全部店名的方式
        // for (var m = 0; m < json2.length; m++) {
        //获取操作对象
        var sel = document.getElementById('sheng')
        var city = document.getElementById('city')
        var storts = document.querySelector(".stort")
        var stortvalue = document.querySelector(".stort dl");
        var stortdtvalue = document.querySelector(".stort dl dt h2");
        var stortddvalue = document.querySelector(".stort dl dd p");
        var stortphonevalue = document.querySelector(".stort dl dd span");

        /*
         * 思路：
         * 1、规划好布局
         * 2、明确有哪些事件，分别在什么对象上
         * 3、创建省市区的数据
         * */

        //添加省份
        for (var i = 0; i < json1.length; i++) {
            var provice1 = json1[i].province
            sel.add(new Option(provice1, provice1))
        }
        //给省份绑定onchange事件，当省份选项改变时。添加对应的城市
        sel.onchange = function () {
            //清除当前下拉框中的选项
            city.options.length = 1
            //获得选中的value值
            var shengvalue = sel.value
            //外层循环遍历省份
            for (var i = 0; i < json1.length; i++) {
                //判断遍历出来的省份是否跟选中的省份相等
                if (shengvalue == json1[i].province) {
                    //内层循环遍历该省份下所有城市
                    for (var j = 0; j < json1[i].municipality.length; j++) {
                        city.add(new Option(json1[i]['municipality'][j], json1[i]['municipality'][j]))
                    }
                }
            }
        }
        //当市改变的时候店出现改变
        city.onchange = function () {
            //获取省份和城市的value值
            var shengvalue = sel.value
            var cityvalue = city.value

            //循环遍历电话
            var array = []
            for (var a = 0; a < json1.length; a++) {
                //遍历出市
                // console.log(json1[a].municipality);
                //判断省份
                for (var b = 0; b < json2.length; b++) {
                    //获取到当前有多少个店名就创建多少个dl
                    if (shengvalue == json2[b].province) {
                        if (cityvalue == json2[b].municipality) {
                            stortdtvalue.innerText = json2[b].store;
                            // console.log(json2[b])

                            // countstore(json2[b].store.length, json2[b]);
                            stortddvalue.innerText = json2[b].address;
                            stortphonevalue.innerText = json2[b].phone;
                            array.push(json2[b])
                            break;
                        }
                    }
                }

            }
            countstore(array, storts)

            function countstore(k, tt) {
                console.log(k);
                var str = ""
                // for (var c = 0; c < k[0].store.length; c++) {
                // var dls = document.createElement('dl')
                // console.log(json2[c].store)
                // for (var a = 0; a < k[0].address.length; a++) {
                for (var b = 0; b < k[0].phone.length; b++) {
                    str += `
                    <dl>
                        <dt>
                            <a href="">
                               <h2>${k[0].store[b]}</h2>
                            </a>
                        </dt>
                        <dd>
                            <p>${k[0].address[b]}</p>
                        </dd>
                        <dd>
                            <span>${k[0].phone[b]}</span>
                        </dd>
                        </dl>
                   `
                }
                // }
                // }

                tt.innerHTML = str
                // console.log(document.getElementsByTagName("dl"))
            }

        }
    </script>
</body>

</html>